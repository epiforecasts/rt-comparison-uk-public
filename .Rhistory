ggplot2::geom_rect(ggplot2::aes(xmin=min(summary[summary$type == "forecast",]$date),
xmax=max(summary[summary$type == "forecast",]$date),
ymin=min(lower_90)-0.5, ymax=max(upper_90)+0.5),
fill="grey 80", colour = NA) +
ggplot2::geom_text(label="forecast", ggplot2::aes(x = max(summary[summary$type == "forecast",]$date)-3, y = 2.5),
colour = "grey 40") +
ggplot2::geom_ribbon(ggplot2::aes(ymin = lower_50, ymax = upper_50,
col = `Data source`, fill = `Data source`),
alpha = 0.2, size = 0, colour = NA) +
ggplot2::geom_ribbon(ggplot2::aes(ymin = lower_90, ymax = upper_90,
col = `Data source`, fill = `Data source`),
alpha = 0.2, colour = NA) +
ggplot2::geom_line(ggplot2::aes(y = median, col = `Data source`, fill = `Data source`),
alpha = 1, size = 1) +
ggplot2::geom_vline(aes(xintercept = as.Date(date)), data = lockdown_date, lty = 5) +
ggplot2::geom_text(label="lockdown", ggplot2::aes(x = as.Date(date), y = 2.5),
colour = "red",
data = lockdown_date) +
ggplot2::geom_hline(yintercept = 1, linetype = 2) +
ggplot2::scale_color_manual(values = plot_vars$colours) +
ggplot2::scale_fill_manual(values = plot_vars$colours) +
ggplot2::scale_x_date(date_breaks = "1 week", date_labels = "%b %d") +
cowplot::theme_cowplot() +
ggplot2::labs(y = "R(t)", x = NULL) +
ggplot2::theme(legend.position = "bottom",
axis.text.x = ggplot2::element_text(angle = 45, hjust = 1),
strip.background = ggplot2::element_blank(),
strip.text.x = ggplot2::element_text()) +
ggplot2::facet_wrap(~ region, ncol = 1) +
ggplot2::guides(colour = ggplot2::guide_legend(override.aes = list(alpha = 1)))
# Plot Rt only
summary %>%
ggplot2::ggplot(ggplot2::aes(x = date)) +
ggplot2::geom_rect(ggplot2::aes(xmin=min(summary[summary$type == "estimate based on partial data",]$date),
xmax=max(summary[summary$type == "estimate based on partial data",]$date),
ymin=min(lower_90)-0.5, ymax=max(upper_90)+0.5),
fill="grey 95", colour = NA) +
ggplot2::geom_rect(ggplot2::aes(xmin=min(summary[summary$type == "forecast",]$date),
xmax=max(summary[summary$type == "forecast",]$date),
ymin=min(lower_90)-0.5, ymax=max(upper_90)+0.5),
fill="grey 80", colour = NA) +
ggplot2::geom_text(label="forecast", ggplot2::aes(x = max(summary[summary$type == "forecast",]$date)-3, y = 2.5),
colour = "grey 40") +
ggplot2::geom_ribbon(ggplot2::aes(ymin = lower_50, ymax = upper_50,
col = `Data source`, fill = `Data source`),
alpha = 0.2, size = 0, colour = NA) +
ggplot2::geom_ribbon(ggplot2::aes(ymin = lower_90, ymax = upper_90,
col = `Data source`, fill = `Data source`),
alpha = 0.2, colour = NA) +
ggplot2::geom_line(ggplot2::aes(y = median, col = `Data source`, fill = `Data source`),
alpha = 1, size = 1) +
ggplot2::geom_vline(aes(xintercept = as.Date(date)), data = lockdown_date, lty = 5) +
ggplot2::geom_text(label="lockdown", ggplot2::aes(x = as.Date(date), y = 2.5),
colour = "dark red",
data = lockdown_date) +
ggplot2::geom_hline(yintercept = 1, linetype = 2) +
ggplot2::scale_color_manual(values = plot_vars$colours) +
ggplot2::scale_fill_manual(values = plot_vars$colours) +
ggplot2::scale_x_date(date_breaks = "1 week", date_labels = "%b %d") +
cowplot::theme_cowplot() +
ggplot2::labs(y = "R(t)", x = NULL) +
ggplot2::theme(legend.position = "bottom",
axis.text.x = ggplot2::element_text(angle = 45, hjust = 1),
strip.background = ggplot2::element_blank(),
strip.text.x = ggplot2::element_text()) +
ggplot2::facet_wrap(~ region, ncol = 1) +
ggplot2::guides(colour = ggplot2::guide_legend(override.aes = list(alpha = 1)))
# Plot Rt only
summary %>%
ggplot2::ggplot(ggplot2::aes(x = date)) +
ggplot2::geom_rect(ggplot2::aes(xmin=min(summary[summary$type == "estimate based on partial data",]$date),
xmax=max(summary[summary$type == "estimate based on partial data",]$date),
ymin=min(lower_90)-0.5, ymax=max(upper_90)+0.5),
fill="grey 95", colour = NA) +
ggplot2::geom_rect(ggplot2::aes(xmin=min(summary[summary$type == "forecast",]$date),
xmax=max(summary[summary$type == "forecast",]$date),
ymin=min(lower_90)-0.5, ymax=max(upper_90)+0.5),
fill="grey 80", colour = NA) +
ggplot2::geom_text(label="forecast", ggplot2::aes(x = max(summary[summary$type == "forecast",]$date)-3, y = 2.5),
colour = "grey 50") +
ggplot2::geom_ribbon(ggplot2::aes(ymin = lower_50, ymax = upper_50,
col = `Data source`, fill = `Data source`),
alpha = 0.2, size = 0, colour = NA) +
ggplot2::geom_ribbon(ggplot2::aes(ymin = lower_90, ymax = upper_90,
col = `Data source`, fill = `Data source`),
alpha = 0.2, colour = NA) +
ggplot2::geom_line(ggplot2::aes(y = median, col = `Data source`, fill = `Data source`),
alpha = 1, size = 1) +
ggplot2::geom_vline(aes(xintercept = as.Date(date)), data = lockdown_date, lty = 5) +
ggplot2::geom_text(label="lockdown", ggplot2::aes(x = as.Date(date), y = 2.5),
colour = "dark red",
data = lockdown_date) +
ggplot2::geom_hline(yintercept = 1, linetype = 2) +
ggplot2::scale_color_manual(values = plot_vars$colours) +
ggplot2::scale_fill_manual(values = plot_vars$colours) +
ggplot2::scale_x_date(date_breaks = "1 week", date_labels = "%b %d") +
cowplot::theme_cowplot() +
ggplot2::labs(y = "R(t)", x = NULL) +
ggplot2::theme(legend.position = "bottom",
axis.text.x = ggplot2::element_text(angle = 45, hjust = 1),
strip.background = ggplot2::element_blank(),
strip.text.x = ggplot2::element_text()) +
ggplot2::facet_wrap(~ region, ncol = 1) +
ggplot2::guides(colour = ggplot2::guide_legend(override.aes = list(alpha = 1)))
# Plot Rt only
summary %>%
ggplot2::ggplot(ggplot2::aes(x = date)) +
ggplot2::geom_rect(ggplot2::aes(xmin=min(summary[summary$type == "estimate based on partial data",]$date),
xmax=max(summary[summary$type == "estimate based on partial data",]$date),
ymin=min(lower_90)-0.5, ymax=max(upper_90)+0.5),
fill="grey 95", colour = NA) +
ggplot2::geom_rect(ggplot2::aes(xmin=min(summary[summary$type == "forecast",]$date),
xmax=max(summary[summary$type == "forecast",]$date),
ymin=min(lower_90)-0.5, ymax=max(upper_90)+0.5),
fill="grey 80", colour = NA) +
ggplot2::geom_text(label="forecast", ggplot2::aes(x = max(summary[summary$type == "forecast",]$date)-3, y = 2.5),
colour = "grey 60") +
ggplot2::geom_ribbon(ggplot2::aes(ymin = lower_50, ymax = upper_50,
col = `Data source`, fill = `Data source`),
alpha = 0.2, size = 0, colour = NA) +
ggplot2::geom_ribbon(ggplot2::aes(ymin = lower_90, ymax = upper_90,
col = `Data source`, fill = `Data source`),
alpha = 0.2, colour = NA) +
ggplot2::geom_line(ggplot2::aes(y = median, col = `Data source`, fill = `Data source`),
alpha = 1, size = 1) +
ggplot2::geom_vline(aes(xintercept = as.Date(date)), data = lockdown_date, lty = 5) +
ggplot2::geom_text(label="lockdown", ggplot2::aes(x = as.Date(date), y = 2.5),
colour = "dark red",
data = lockdown_date) +
ggplot2::geom_hline(yintercept = 1, linetype = 2) +
ggplot2::scale_color_manual(values = plot_vars$colours) +
ggplot2::scale_fill_manual(values = plot_vars$colours) +
ggplot2::scale_x_date(date_breaks = "1 week", date_labels = "%b %d") +
cowplot::theme_cowplot() +
ggplot2::labs(y = "R(t)", x = NULL) +
ggplot2::theme(legend.position = "bottom",
axis.text.x = ggplot2::element_text(angle = 45, hjust = 1),
strip.background = ggplot2::element_blank(),
strip.text.x = ggplot2::element_text()) +
ggplot2::facet_wrap(~ region, ncol = 1) +
ggplot2::guides(colour = ggplot2::guide_legend(override.aes = list(alpha = 1)))
# Plot Rt only
summary %>%
ggplot2::ggplot(ggplot2::aes(x = date)) +
ggplot2::geom_rect(ggplot2::aes(xmin=min(summary[summary$type == "estimate based on partial data",]$date),
xmax=max(summary[summary$type == "estimate based on partial data",]$date),
ymin=min(lower_90)-0.5, ymax=max(upper_90)+0.5),
fill="grey 95", colour = NA) +
ggplot2::geom_rect(ggplot2::aes(xmin=min(summary[summary$type == "forecast",]$date),
xmax=max(summary[summary$type == "forecast",]$date),
ymin=min(lower_90)-0.5, ymax=max(upper_90)+0.5),
fill="grey 80", colour = NA) +
ggplot2::geom_text(label="forecast", ggplot2::aes(x = max(summary[summary$type == "forecast",]$date), y = 2.5),
colour = "grey 60", nudge_x = 2) +
ggplot2::geom_ribbon(ggplot2::aes(ymin = lower_50, ymax = upper_50,
col = `Data source`, fill = `Data source`),
alpha = 0.2, size = 0, colour = NA) +
ggplot2::geom_ribbon(ggplot2::aes(ymin = lower_90, ymax = upper_90,
col = `Data source`, fill = `Data source`),
alpha = 0.2, colour = NA) +
ggplot2::geom_line(ggplot2::aes(y = median, col = `Data source`, fill = `Data source`),
alpha = 1, size = 1) +
ggplot2::geom_vline(aes(xintercept = as.Date(date)), data = lockdown_date, lty = 5) +
ggplot2::geom_text(label="lockdown", ggplot2::aes(x = as.Date(date), y = 2.5),
colour = "dark red",
data = lockdown_date) +
ggplot2::geom_hline(yintercept = 1, linetype = 2) +
ggplot2::scale_color_manual(values = plot_vars$colours) +
ggplot2::scale_fill_manual(values = plot_vars$colours) +
ggplot2::scale_x_date(date_breaks = "1 week", date_labels = "%b %d") +
cowplot::theme_cowplot() +
ggplot2::labs(y = "R(t)", x = NULL) +
ggplot2::theme(legend.position = "bottom",
axis.text.x = ggplot2::element_text(angle = 45, hjust = 1),
strip.background = ggplot2::element_blank(),
strip.text.x = ggplot2::element_text()) +
ggplot2::facet_wrap(~ region, ncol = 1) +
ggplot2::guides(colour = ggplot2::guide_legend(override.aes = list(alpha = 1)))
# Plot Rt only
summary %>%
ggplot2::ggplot(ggplot2::aes(x = date)) +
ggplot2::geom_rect(ggplot2::aes(xmin=min(summary[summary$type == "estimate based on partial data",]$date),
xmax=max(summary[summary$type == "estimate based on partial data",]$date),
ymin=min(lower_90)-0.5, ymax=max(upper_90)+0.5),
fill="grey 95", colour = NA) +
ggplot2::geom_rect(ggplot2::aes(xmin=min(summary[summary$type == "forecast",]$date),
xmax=max(summary[summary$type == "forecast",]$date),
ymin=min(lower_90)-0.5, ymax=max(upper_90)+0.5),
fill="grey 80", colour = NA) +
ggplot2::geom_text(label="forecast", ggplot2::aes(x = max(summary[summary$type == "forecast",]$date), y = 2.5),
colour = "grey 60", nudge_x = -3) +
ggplot2::geom_ribbon(ggplot2::aes(ymin = lower_50, ymax = upper_50,
col = `Data source`, fill = `Data source`),
alpha = 0.2, size = 0, colour = NA) +
ggplot2::geom_ribbon(ggplot2::aes(ymin = lower_90, ymax = upper_90,
col = `Data source`, fill = `Data source`),
alpha = 0.2, colour = NA) +
ggplot2::geom_line(ggplot2::aes(y = median, col = `Data source`, fill = `Data source`),
alpha = 1, size = 1) +
ggplot2::geom_vline(aes(xintercept = as.Date(date)), data = lockdown_date, lty = 5) +
ggplot2::geom_text(label="lockdown", ggplot2::aes(x = as.Date(date), y = 2.5),
colour = "dark red",
data = lockdown_date) +
ggplot2::geom_hline(yintercept = 1, linetype = 2) +
ggplot2::scale_color_manual(values = plot_vars$colours) +
ggplot2::scale_fill_manual(values = plot_vars$colours) +
ggplot2::scale_x_date(date_breaks = "1 week", date_labels = "%b %d") +
cowplot::theme_cowplot() +
ggplot2::labs(y = "R(t)", x = NULL) +
ggplot2::theme(legend.position = "bottom",
axis.text.x = ggplot2::element_text(angle = 45, hjust = 1),
strip.background = ggplot2::element_blank(),
strip.text.x = ggplot2::element_text()) +
ggplot2::facet_wrap(~ region, ncol = 1) +
ggplot2::guides(colour = ggplot2::guide_legend(override.aes = list(alpha = 1)))
# Plot Rt only
summary %>%
ggplot2::ggplot(ggplot2::aes(x = date)) +
ggplot2::geom_rect(ggplot2::aes(xmin=min(summary[summary$type == "estimate based on partial data",]$date),
xmax=max(summary[summary$type == "estimate based on partial data",]$date),
ymin=min(lower_90)-0.5, ymax=max(upper_90)+0.5),
fill="grey 95", colour = NA) +
ggplot2::geom_rect(ggplot2::aes(xmin=min(summary[summary$type == "forecast",]$date),
xmax=max(summary[summary$type == "forecast",]$date),
ymin=min(lower_90)-0.5, ymax=max(upper_90)+0.5),
fill="grey 80", colour = NA) +
ggplot2::geom_text(label="forecast", ggplot2::aes(x = max(summary[summary$type == "forecast",]$date), y = 2.5),
colour = "grey 60", nudge_x = -2) +
ggplot2::geom_ribbon(ggplot2::aes(ymin = lower_50, ymax = upper_50,
col = `Data source`, fill = `Data source`),
alpha = 0.2, size = 0, colour = NA) +
ggplot2::geom_ribbon(ggplot2::aes(ymin = lower_90, ymax = upper_90,
col = `Data source`, fill = `Data source`),
alpha = 0.2, colour = NA) +
ggplot2::geom_line(ggplot2::aes(y = median, col = `Data source`, fill = `Data source`),
alpha = 1, size = 1) +
ggplot2::geom_vline(aes(xintercept = as.Date(date)), data = lockdown_date, lty = 5) +
ggplot2::geom_text(label="lockdown", ggplot2::aes(x = as.Date(date), y = 2.5),
colour = "dark red",
data = lockdown_date) +
ggplot2::geom_hline(yintercept = 1, linetype = 2) +
ggplot2::scale_color_manual(values = plot_vars$colours) +
ggplot2::scale_fill_manual(values = plot_vars$colours) +
ggplot2::scale_x_date(date_breaks = "1 week", date_labels = "%b %d") +
cowplot::theme_cowplot() +
ggplot2::labs(y = "R(t)", x = NULL) +
ggplot2::theme(legend.position = "bottom",
axis.text.x = ggplot2::element_text(angle = 45, hjust = 1),
strip.background = ggplot2::element_blank(),
strip.text.x = ggplot2::element_text()) +
ggplot2::facet_wrap(~ region, ncol = 1) +
ggplot2::guides(colour = ggplot2::guide_legend(override.aes = list(alpha = 1)))
# Plot Rt only
summary %>%
ggplot2::ggplot(ggplot2::aes(x = date)) +
ggplot2::geom_rect(ggplot2::aes(xmin=min(summary[summary$type == "estimate based on partial data",]$date),
xmax=max(summary[summary$type == "estimate based on partial data",]$date),
ymin=min(lower_90)-0.5, ymax=max(upper_90)+0.5),
fill="grey 95", colour = NA) +
ggplot2::geom_rect(ggplot2::aes(xmin=min(summary[summary$type == "forecast",]$date),
xmax=max(summary[summary$type == "forecast",]$date),
ymin=min(lower_90)-0.5, ymax=max(upper_90)+0.5),
fill="grey 80", colour = NA) +
ggplot2::geom_text(label="forecast", ggplot2::aes(x = max(summary[summary$type == "forecast",]$date), y = 2.5),
colour = "grey 60", nudge_x = -2) +
ggplot2::geom_ribbon(ggplot2::aes(ymin = lower_50, ymax = upper_50,
col = `Data source`, fill = `Data source`),
alpha = 0.2, size = 0, colour = NA) +
ggplot2::geom_ribbon(ggplot2::aes(ymin = lower_90, ymax = upper_90,
col = `Data source`, fill = `Data source`),
alpha = 0.2, colour = NA) +
ggplot2::geom_line(ggplot2::aes(y = median, col = `Data source`, fill = `Data source`),
alpha = 1, size = 1) +
ggplot2::geom_vline(aes(xintercept = as.Date(date)), data = lockdown_date, lty = 5) +
ggplot2::geom_text(label="lockdown", ggplot2::aes(x = as.Date(date), y = 2.5),
colour = "dark red", alpha = 1,
data = lockdown_date) +
ggplot2::geom_hline(yintercept = 1, linetype = 2) +
ggplot2::scale_color_manual(values = plot_vars$colours) +
ggplot2::scale_fill_manual(values = plot_vars$colours) +
ggplot2::scale_x_date(date_breaks = "1 week", date_labels = "%b %d") +
cowplot::theme_cowplot() +
ggplot2::labs(y = "R(t)", x = NULL) +
ggplot2::theme(legend.position = "bottom",
axis.text.x = ggplot2::element_text(angle = 45, hjust = 1),
strip.background = ggplot2::element_blank(),
strip.text.x = ggplot2::element_text()) +
ggplot2::facet_wrap(~ region, ncol = 1) +
ggplot2::guides(colour = ggplot2::guide_legend(override.aes = list(alpha = 1)))
# Plot Rt only
summary %>%
ggplot2::ggplot(ggplot2::aes(x = date)) +
ggplot2::geom_rect(ggplot2::aes(xmin=min(summary[summary$type == "estimate based on partial data",]$date),
xmax=max(summary[summary$type == "estimate based on partial data",]$date),
ymin=min(lower_90)-0.5, ymax=max(upper_90)+0.5),
fill="grey 95", colour = NA) +
ggplot2::geom_rect(ggplot2::aes(xmin=min(summary[summary$type == "forecast",]$date),
xmax=max(summary[summary$type == "forecast",]$date),
ymin=min(lower_90)-0.5, ymax=max(upper_90)+0.5),
fill="grey 80", colour = NA) +
ggplot2::geom_text(label="forecast", ggplot2::aes(x = max(summary[summary$type == "forecast",]$date), y = 2.5),
colour = "grey 60", nudge_x = -2) +
ggplot2::geom_ribbon(ggplot2::aes(ymin = lower_50, ymax = upper_50,
col = `Data source`, fill = `Data source`),
alpha = 0.2, size = 0, colour = NA) +
ggplot2::geom_ribbon(ggplot2::aes(ymin = lower_90, ymax = upper_90,
col = `Data source`, fill = `Data source`),
alpha = 0.2, colour = NA) +
ggplot2::geom_line(ggplot2::aes(y = median, col = `Data source`, fill = `Data source`),
alpha = 1, size = 1) +
ggplot2::geom_vline(aes(xintercept = as.Date(date)), data = lockdown_date, lty = 5) +
ggplot2::geom_text(label="lockdown", ggplot2::aes(x = as.Date(date), y = 2.5),
colour = "dark red", alpha = 2,
data = lockdown_date) +
ggplot2::geom_hline(yintercept = 1, linetype = 2) +
ggplot2::scale_color_manual(values = plot_vars$colours) +
ggplot2::scale_fill_manual(values = plot_vars$colours) +
ggplot2::scale_x_date(date_breaks = "1 week", date_labels = "%b %d") +
cowplot::theme_cowplot() +
ggplot2::labs(y = "R(t)", x = NULL) +
ggplot2::theme(legend.position = "bottom",
axis.text.x = ggplot2::element_text(angle = 45, hjust = 1),
strip.background = ggplot2::element_blank(),
strip.text.x = ggplot2::element_text()) +
ggplot2::facet_wrap(~ region, ncol = 1) +
ggplot2::guides(colour = ggplot2::guide_legend(override.aes = list(alpha = 1)))
# Plot Rt only
summary %>%
ggplot2::ggplot(ggplot2::aes(x = date)) +
ggplot2::geom_rect(ggplot2::aes(xmin=min(summary[summary$type == "estimate based on partial data",]$date),
xmax=max(summary[summary$type == "estimate based on partial data",]$date),
ymin=min(lower_90)-0.5, ymax=max(upper_90)+0.5),
fill="grey 95", colour = NA) +
ggplot2::geom_rect(ggplot2::aes(xmin=min(summary[summary$type == "forecast",]$date),
xmax=max(summary[summary$type == "forecast",]$date),
ymin=min(lower_90)-0.5, ymax=max(upper_90)+0.5),
fill="grey 80", colour = NA) +
ggplot2::geom_text(label="forecast", ggplot2::aes(x = max(summary[summary$type == "forecast",]$date), y = 2.5),
colour = "grey 60", alpha = 0.5, nudge_x = -2) +
ggplot2::geom_ribbon(ggplot2::aes(ymin = lower_50, ymax = upper_50,
col = `Data source`, fill = `Data source`),
alpha = 0.2, size = 0, colour = NA) +
ggplot2::geom_ribbon(ggplot2::aes(ymin = lower_90, ymax = upper_90,
col = `Data source`, fill = `Data source`),
alpha = 0.2, colour = NA) +
ggplot2::geom_line(ggplot2::aes(y = median, col = `Data source`, fill = `Data source`),
alpha = 1, size = 1) +
ggplot2::geom_vline(aes(xintercept = as.Date(date)), data = lockdown_date, lty = 5) +
ggplot2::geom_text(label="lockdown", ggplot2::aes(x = as.Date(date), y = 2.5),
colour = "dark red",
data = lockdown_date) +
ggplot2::geom_hline(yintercept = 1, linetype = 2) +
ggplot2::scale_color_manual(values = plot_vars$colours) +
ggplot2::scale_fill_manual(values = plot_vars$colours) +
ggplot2::scale_x_date(date_breaks = "1 week", date_labels = "%b %d") +
cowplot::theme_cowplot() +
ggplot2::labs(y = "R(t)", x = NULL) +
ggplot2::theme(legend.position = "bottom",
axis.text.x = ggplot2::element_text(angle = 45, hjust = 1),
strip.background = ggplot2::element_blank(),
strip.text.x = ggplot2::element_text()) +
ggplot2::facet_wrap(~ region, ncol = 1) +
ggplot2::guides(colour = ggplot2::guide_legend(override.aes = list(alpha = 1)))
# Plot Rt only
summary %>%
ggplot2::ggplot(ggplot2::aes(x = date)) +
ggplot2::geom_rect(ggplot2::aes(xmin=min(summary[summary$type == "estimate based on partial data",]$date),
xmax=max(summary[summary$type == "estimate based on partial data",]$date),
ymin=min(lower_90)-0.5, ymax=max(upper_90)+0.5),
fill="grey 95", colour = NA) +
ggplot2::geom_rect(ggplot2::aes(xmin=min(summary[summary$type == "forecast",]$date),
xmax=max(summary[summary$type == "forecast",]$date),
ymin=min(lower_90)-0.5, ymax=max(upper_90)+0.5),
fill="grey 80", colour = NA) +
ggplot2::geom_text(label="forecast", ggplot2::aes(x = max(summary[summary$type == "forecast",]$date), y = 0),
colour = "grey 60", nudge_x = -2) +
ggplot2::geom_ribbon(ggplot2::aes(ymin = lower_50, ymax = upper_50,
col = `Data source`, fill = `Data source`),
alpha = 0.2, size = 0, colour = NA) +
ggplot2::geom_ribbon(ggplot2::aes(ymin = lower_90, ymax = upper_90,
col = `Data source`, fill = `Data source`),
alpha = 0.2, colour = NA) +
ggplot2::geom_line(ggplot2::aes(y = median, col = `Data source`, fill = `Data source`),
alpha = 1, size = 1) +
ggplot2::geom_vline(aes(xintercept = as.Date(date)), data = lockdown_date, lty = 5) +
ggplot2::geom_text(label="lockdown", ggplot2::aes(x = as.Date(date), y = 2.5),
colour = "dark red", nudge_x = 1
data = lockdown_date) +
ggplot2::geom_hline(yintercept = 1, linetype = 2) +
ggplot2::scale_color_manual(values = plot_vars$colours) +
ggplot2::scale_fill_manual(values = plot_vars$colours) +
ggplot2::scale_x_date(date_breaks = "1 week", date_labels = "%b %d") +
cowplot::theme_cowplot() +
ggplot2::labs(y = "R(t)", x = NULL) +
ggplot2::theme(legend.position = "bottom",
axis.text.x = ggplot2::element_text(angle = 45, hjust = 1),
strip.background = ggplot2::element_blank(),
strip.text.x = ggplot2::element_text()) +
ggplot2::facet_wrap(~ region, ncol = 1) +
ggplot2::guides(colour = ggplot2::guide_legend(override.aes = list(alpha = 1)))
# Plot Rt only
summary %>%
ggplot2::ggplot(ggplot2::aes(x = date)) +
ggplot2::geom_rect(ggplot2::aes(xmin=min(summary[summary$type == "estimate based on partial data",]$date),
xmax=max(summary[summary$type == "estimate based on partial data",]$date),
ymin=min(lower_90)-0.5, ymax=max(upper_90)+0.5),
fill="grey 95", colour = NA) +
ggplot2::geom_rect(ggplot2::aes(xmin=min(summary[summary$type == "forecast",]$date),
xmax=max(summary[summary$type == "forecast",]$date),
ymin=min(lower_90)-0.5, ymax=max(upper_90)+0.5),
fill="grey 80", colour = NA) +
ggplot2::geom_text(label="forecast", ggplot2::aes(x = max(summary[summary$type == "forecast",]$date), y = 1),
colour = "grey 60", nudge_x = -2) +
ggplot2::geom_ribbon(ggplot2::aes(ymin = lower_50, ymax = upper_50,
col = `Data source`, fill = `Data source`),
alpha = 0.2, size = 0, colour = NA) +
ggplot2::geom_ribbon(ggplot2::aes(ymin = lower_90, ymax = upper_90,
col = `Data source`, fill = `Data source`),
alpha = 0.2, colour = NA) +
ggplot2::geom_line(ggplot2::aes(y = median, col = `Data source`, fill = `Data source`),
alpha = 1, size = 1) +
ggplot2::geom_vline(aes(xintercept = as.Date(date)), data = lockdown_date, lty = 5) +
ggplot2::geom_text(label="lockdown", ggplot2::aes(x = as.Date(date), y = 2.5),
colour = "dark red", nudge_x = 1
data = lockdown_date) +
ggplot2::geom_hline(yintercept = 1, linetype = 2) +
ggplot2::scale_color_manual(values = plot_vars$colours) +
ggplot2::scale_fill_manual(values = plot_vars$colours) +
ggplot2::scale_x_date(date_breaks = "1 week", date_labels = "%b %d") +
cowplot::theme_cowplot() +
ggplot2::labs(y = "R(t)", x = NULL) +
ggplot2::theme(legend.position = "bottom",
axis.text.x = ggplot2::element_text(angle = 45, hjust = 1),
strip.background = ggplot2::element_blank(),
strip.text.x = ggplot2::element_text()) +
ggplot2::facet_wrap(~ region, ncol = 1) +
ggplot2::guides(colour = ggplot2::guide_legend(override.aes = list(alpha = 1)))
# Plot Rt only
summary %>%
ggplot2::ggplot(ggplot2::aes(x = date)) +
ggplot2::geom_rect(ggplot2::aes(xmin=min(summary[summary$type == "estimate based on partial data",]$date),
xmax=max(summary[summary$type == "estimate based on partial data",]$date),
ymin=min(lower_90)-0.5, ymax=max(upper_90)+0.5),
fill="grey 95", colour = NA) +
ggplot2::geom_rect(ggplot2::aes(xmin=min(summary[summary$type == "forecast",]$date),
xmax=max(summary[summary$type == "forecast",]$date),
ymin=min(lower_90)-0.5, ymax=max(upper_90)+0.5),
fill="grey 80", colour = NA) +
ggplot2::geom_text(label="forecast", ggplot2::aes(x = max(summary[summary$type == "forecast",]$date), y = 1),
colour = "grey 60", nudge_x = -2) +
ggplot2::geom_ribbon(ggplot2::aes(ymin = lower_50, ymax = upper_50,
col = `Data source`, fill = `Data source`),
alpha = 0.2, size = 0, colour = NA) +
ggplot2::geom_ribbon(ggplot2::aes(ymin = lower_90, ymax = upper_90,
col = `Data source`, fill = `Data source`),
alpha = 0.2, colour = NA) +
ggplot2::geom_line(ggplot2::aes(y = median, col = `Data source`, fill = `Data source`),
alpha = 1, size = 1) +
ggplot2::geom_vline(aes(xintercept = as.Date(date)), data = lockdown_date, lty = 5) +
ggplot2::geom_text(label="lockdown", ggplot2::aes(x = as.Date(date), y = 2.5),
colour = "dark red", nudge_x = 1,
data = lockdown_date) +
ggplot2::geom_hline(yintercept = 1, linetype = 2) +
ggplot2::scale_color_manual(values = plot_vars$colours) +
ggplot2::scale_fill_manual(values = plot_vars$colours) +
ggplot2::scale_x_date(date_breaks = "1 week", date_labels = "%b %d") +
cowplot::theme_cowplot() +
ggplot2::labs(y = "R(t)", x = NULL) +
ggplot2::theme(legend.position = "bottom",
axis.text.x = ggplot2::element_text(angle = 45, hjust = 1),
strip.background = ggplot2::element_blank(),
strip.text.x = ggplot2::element_text()) +
ggplot2::facet_wrap(~ region, ncol = 1) +
ggplot2::guides(colour = ggplot2::guide_legend(override.aes = list(alpha = 1)))
# Plot Rt only
summary %>%
ggplot2::ggplot(ggplot2::aes(x = date)) +
ggplot2::geom_rect(ggplot2::aes(xmin=min(summary[summary$type == "estimate based on partial data",]$date),
xmax=max(summary[summary$type == "estimate based on partial data",]$date),
ymin=min(lower_90)-0.5, ymax=max(upper_90)+0.5),
fill="grey 95", colour = NA) +
ggplot2::geom_rect(ggplot2::aes(xmin=min(summary[summary$type == "forecast",]$date),
xmax=max(summary[summary$type == "forecast",]$date),
ymin=min(lower_90)-0.5, ymax=max(upper_90)+0.5),
fill="grey 80", colour = NA) +
ggplot2::geom_text(label="forecast", ggplot2::aes(x = max(summary[summary$type == "forecast",]$date), y = 0),
colour = "grey 60", nudge_x = -2) +
ggplot2::geom_ribbon(ggplot2::aes(ymin = lower_50, ymax = upper_50,
col = `Data source`, fill = `Data source`),
alpha = 0.2, size = 0, colour = NA) +
ggplot2::geom_ribbon(ggplot2::aes(ymin = lower_90, ymax = upper_90,
col = `Data source`, fill = `Data source`),
alpha = 0.2, colour = NA) +
ggplot2::geom_line(ggplot2::aes(y = median, col = `Data source`, fill = `Data source`),
alpha = 1, size = 1) +
ggplot2::geom_vline(aes(xintercept = as.Date(date)), data = lockdown_date, lty = 5) +
ggplot2::geom_text(label="lockdown", ggplot2::aes(x = as.Date(date), y = 2.5),
colour = "dark red", nudge_x = 1,
data = lockdown_date) +
ggplot2::geom_hline(yintercept = 1, linetype = 2) +
ggplot2::scale_color_manual(values = plot_vars$colours) +
ggplot2::scale_fill_manual(values = plot_vars$colours) +
ggplot2::scale_x_date(date_breaks = "1 week", date_labels = "%b %d") +
cowplot::theme_cowplot() +
ggplot2::labs(y = "R(t)", x = NULL) +
ggplot2::theme(legend.position = "bottom",
axis.text.x = ggplot2::element_text(angle = 45, hjust = 1),
strip.background = ggplot2::element_blank(),
strip.text.x = ggplot2::element_text()) +
ggplot2::facet_wrap(~ region, ncol = 1) +
ggplot2::guides(colour = ggplot2::guide_legend(override.aes = list(alpha = 1)))
ggsave("wales-ni-firebreak.jpg", width = 10, height = 10)
